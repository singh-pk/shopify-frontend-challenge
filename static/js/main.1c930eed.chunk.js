(this["webpackJsonpshopify-frontend"]=this["webpackJsonpshopify-frontend"]||[]).push([[0],{19:function(e,t,n){e.exports={modal:"Modal_modal__3Baex",modalBody:"Modal_modalBody__3AMSx",modalBtnCloseContainer:"Modal_modalBtnCloseContainer__IEFw7",modalBtnClose:"Modal_modalBtnClose__G7kLL",text:"Modal_text__3W-hf"}},26:function(e,t,n){e.exports={card:"Card_card__2ykcJ",cardHeader:"Card_cardHeader__26svP",cardBody:"Card_cardBody__oI9cm"}},30:function(e,t,n){e.exports={spinnerContainer:"WithSpinner_spinnerContainer__3Mb7F",spinner:"WithSpinner_spinner__3_049"}},31:function(e,t,n){e.exports={homepage:"HomePage_homepage__1vJ7d",homepageCards:"HomePage_homepageCards__3-5EZ"}},43:function(e,t,n){e.exports={header:"Header_header__3Gsmv"}},44:function(e,t,n){e.exports={customBtn:"CustomButton_customBtn__2bnrM"}},45:function(e,t,n){e.exports={movieDetails:"MovieDetails_movieDetails__2WqqA",movieDetail:"MovieDetails_movieDetail__16hxh"}},56:function(e,t,n){},57:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(21),i=n.n(o),c=n(29),s=n(16),d=n(8),O=n(34),u=n(11),_=n(43),l=n.n(_),m=n(2),b=function(e){var t=e.headerText;return Object(m.jsx)("header",{className:l.a.header,children:t})},j=n(6),E=n(25);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function I(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var M=a.createElement("path",{fill:"currentColor",d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"});function T(e,t){var n=e.title,r=e.titleId,o=I(e,["title","titleId"]);return a.createElement("svg",v({"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"search",className:"svg-inline--fa fa-search fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",ref:t,"aria-labelledby":r},o),n?a.createElement("title",{id:r},n):null,M)}var L=a.forwardRef(T),f=(n.p,n(56),function(e){var t=e.name,n=e.handleChange,a=Object(E.a)(e,["name","handleChange"]);return Object(m.jsxs)("div",{className:"search-bar",children:[Object(m.jsx)("label",{htmlFor:t,children:"Movie title"}),Object(m.jsxs)("div",{className:"input",children:[Object(m.jsx)(L,{}),Object(m.jsx)("input",Object(j.a)({type:"text",id:t,onChange:n},a))]})]})}),p=n(44),S=n.n(p),h=function(e){var t=e.children,n=e.handleClick,a=e.disabled;return Object(m.jsx)("button",{className:S.a.customBtn,onClick:n,disabled:a,children:t})},x={FETCH_MOVIE_LIST_START:"FETCH_MOVIE_LIST_START",FETCH_MOVIE_LIST_SUCCESS:"FETCH_MOVIE_LIST_SUCCESS",FETCH_MOVIE_LIST_FAILURE:"FETCH_MOVIE_LIST_FAILURE",ADD_TO_NOMINATED_MOVIE_LIST_START:"ADD_TO_NOMINATED_MOVIE_LIST_START",ADD_TO_NOMINATED_MOVIE_LIST_SUCCESS:"ADD_TO_NOMINATED_MOVIE_LIST_SUCCESS",ADD_TO_NOMINATED_MOVIE_LIST_FAILURE:"ADD_TO_NOMINATED_MOVIE_LIST_FAILURE",REMOVE_FROM_NOMINATED_MOVIE_LIST_START:"REMOVE_FROM_NOMINATED_MOVIE_LIST_START",REMOVE_FROM_NOMINATED_MOVIE_LIST_SUCCESS:"REMOVE_FROM_NOMINATED_MOVIE_LIST_SUCCESS",REMOVE_FROM_NOMINATED_MOVIE_LIST_FAILURE:"REMOVE_FROM_NOMINATED_MOVIE_LIST_FAILURE",EMPTY_MOVIE_LIST:"EMPTY_MOVIE_LIST",CLEAR_ERROR:"CLEAR_ERROR"},N=function(e){return{type:x.FETCH_MOVIE_LIST_FAILURE,payload:e}},A={TOGGLE_MODAL_HIDDEN:"TOGGLE_MODAL_HIDDEN"},y=function(){return{type:A.TOGGLE_MODAL_HIDDEN}},C=function(e){return e.movie},D=Object(u.a)([C],(function(e){return e.movieList})),R=Object(u.a)([C],(function(e){return e.nominatedMovieList})),g=Object(u.a)([C],(function(e){return e.movieListLoading})),V=Object(u.a)([C],(function(e){return e.nominatedMovieListLoading})),F=function(e){return Object(u.a)([R],(function(t){return t[e]}))},w=Object(u.a)([C],(function(e){return e.error})),H=n(45),k=n.n(H),U=Object(s.b)((function(e,t){return Object(u.b)({movieById:(n=t.movieId,Object(u.a)([D],(function(e){return e[n]}))),nominatedMovieList:R,nominatedMovieListById:F(t.movieId)});var n}),(function(e){return{addToNominatedMovieListStart:function(t){return e(function(e){return{type:x.ADD_TO_NOMINATED_MOVIE_LIST_START,payload:e}}({movie:t}))},toggleModalHidden:function(){return e(y())},removeFromNominatedMovieListStart:function(t){return e(function(e){return{type:x.REMOVE_FROM_NOMINATED_MOVIE_LIST_START,payload:e}}({movieId:t}))}}}))((function(e){var t=e.movieId,n=e.results,a=e.movieById,r=e.addToNominatedMovieListStart,o=e.toggleModalHidden,i=e.removeFromNominatedMovieListStart,c=e.nominatedMovieList,s=e.nominatedMovieListById;return Object(m.jsxs)("li",{className:k.a.movieDetails,children:[n?a.Title:s.Title," (",n?a.Year:s.Year,")",n?Object(m.jsx)(h,{handleClick:function(){return Object.keys(c).length<5?r(a):o()},disabled:void 0!==c[t],children:"Nominate"}):Object(m.jsx)(h,{handleClick:function(){return i(t)},children:"Remove"})]})})),B=n(26),P=n.n(B),G=function(e){var t=e.cardHeader,n=e.results,a=e.movies;return Object(m.jsxs)("div",{className:P.a.card,children:[Object(m.jsx)("header",{className:P.a.cardHeader,children:t}),Object(m.jsx)("main",{className:P.a.cardBody,children:Object(m.jsx)("ul",{children:a.map((function(e){return Object(m.jsx)(U,{results:!!n,movieId:e},e)}))})})]})},Y=n(30),J=n.n(Y),q=function(e){return function(t){var n=t.isLoading,a=Object(E.a)(t,["isLoading"]);return n?Object(m.jsx)("div",{className:J.a.spinnerContainer,children:Object(m.jsx)("div",{className:J.a.spinner})}):Object(m.jsx)(e,Object(j.a)({},a))}},W=function(e){var t;return function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];var o=this;t&&clearTimeout(t),t=setTimeout((function(){t=null,e.apply(o,a)}),1e3)}},z=n(31),Z=n.n(z),K=q(G),Q=Object(u.b)({movieList:D,movieListLoading:g,nominatedMovieList:R,nominatedMovieListLoading:V,error:w}),X=Object(s.b)(Q,(function(e){return{fetchMovieStart:function(t,n){return e({type:x.FETCH_MOVIE_LIST_START,payload:{query:t,page:n}})},emptyMovieList:function(){return e({type:x.EMPTY_MOVIE_LIST})},clearError:function(){return e({type:x.CLEAR_ERROR})}}}))((function(e){var t=e.fetchMovieStart,n=e.emptyMovieList,r=e.movieList,o=e.nominatedMovieList,i=e.error,c=e.clearError,s=e.movieListLoading,d=e.nominatedMovieListLoading,u=Object(a.useState)(""),_=Object(O.a)(u,2),l=_[0],j=_[1],E=Object(a.useState)(1),v=Object(O.a)(E,2),I=v[0],M=v[1],T=Object(a.useCallback)((function(){return t(l,I)}),[l,I]),L=Object(a.useMemo)((function(){return W(T)}),[T]);return Object(a.useEffect)((function(){n(),l.length>0?(M(1),L()):i&&c()}),[l]),Object(a.useEffect)((function(){I>1&&T()}),[I]),Object(m.jsxs)("div",{className:Z.a.homepage,children:[Object(m.jsx)(b,{headerText:"The Shoppies"}),Object(m.jsxs)("main",{children:[Object(m.jsx)(f,{name:"movie-list",value:l,handleChange:function(e){return j(e.target.value)}}),Object(m.jsxs)("div",{className:Z.a.homepageCards,children:[!!Object.keys(r).length&&Object(m.jsx)(K,{cardHeader:'Results for "'.concat(l,'"'),results:!0,movies:Object.keys(r),isLoading:s}),i&&Object(m.jsx)(G,{cardHeader:"".concat(i),movies:[]}),!!Object.keys(o).length&&Object(m.jsx)(K,{cardHeader:"Nominations",movies:Object.keys(o),isLoading:d})]})]})]})})),$=n(19),ee=n.n($),te=Object(s.b)()((function(e){var t=e.dispatch,n=function(){return t(y())};return Object(m.jsx)("div",{className:ee.a.modal,onClick:n,children:Object(m.jsxs)("div",{className:ee.a.modalBody,onClick:function(e){return e.stopPropagation()},children:[Object(m.jsx)("div",{className:ee.a.modalBtnCloseContainer,onClick:n,children:Object(m.jsx)("div",{className:ee.a.modalBtnClose})}),Object(m.jsx)("div",{className:ee.a.text,children:"You cannot nominate more than 5 movies!"})]})})})),ne=Object(u.a)([function(e){return e.modal}],(function(e){return e.modalHidden})),ae=(n(57),Object(s.b)((function(e){return{modalHidden:ne(e)}}))((function(e){var t=e.modalHidden;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(d.c,{children:Object(m.jsx)(d.a,{exact:!0,path:"/",component:X})}),!t&&Object(m.jsx)(te,{})]})}))),re=n(17),oe=n(47),ie=function(e){return localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):{}},ce={movieList:{},nominatedMovieList:ie("movieNominatedList"),movieListLoading:!1,nominatedMovieListLoading:!1,error:null},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x.FETCH_MOVIE_LIST_START:return Object(j.a)(Object(j.a)({},e),{},{movieListLoading:!0});case x.FETCH_MOVIE_LIST_SUCCESS:return Object(j.a)(Object(j.a)({},e),{},{movieList:Object(j.a)(Object(j.a)({},e.movieList),t.payload),movieListLoading:!1,error:null});case x.FETCH_MOVIE_LIST_FAILURE:return Object(j.a)(Object(j.a)({},e),{},{error:t.payload,movieList:{},movieListLoading:!1});case x.ADD_TO_NOMINATED_MOVIE_LIST_START:return Object(j.a)(Object(j.a)({},e),{},{error:null,nominatedMovieListLoading:!0});case x.ADD_TO_NOMINATED_MOVIE_LIST_SUCCESS:return Object(j.a)(Object(j.a)({},e),{},{nominatedMovieList:t.payload,error:null,nominatedMovieListLoading:!1});case x.ADD_TO_NOMINATED_MOVIE_LIST_FAILURE:return Object(j.a)(Object(j.a)({},e),{},{error:t.payload,nominatedMovieListLoading:!1});case x.REMOVE_FROM_NOMINATED_MOVIE_LIST_START:return Object(j.a)(Object(j.a)({},e),{},{error:null,nominatedMovieListLoading:!0});case x.REMOVE_FROM_NOMINATED_MOVIE_LIST_SUCCESS:return Object(j.a)(Object(j.a)({},e),{},{nominatedMovieList:t.payload,error:null,nominatedMovieListLoading:!1});case x.REMOVE_FROM_NOMINATED_MOVIE_LIST_FAILURE:return Object(j.a)(Object(j.a)({},e),{},{error:t.payload,nominatedMovieListLoading:!1});case x.EMPTY_MOVIE_LIST:return Object(j.a)(Object(j.a)({},e),{},{movieList:{}});case x.CLEAR_ERROR:return Object(j.a)(Object(j.a)({},e),{},{error:null});default:return e}},de={modalHidden:!0},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A.TOGGLE_MODAL_HIDDEN:return{modalHidden:!e.modalHidden};default:return e}},ue=Object(re.b)({movie:se,modal:Oe}),_e=n(9),le=n.n(_e),me=n(7),be=n(24),je=n(46),Ee=n.n(je),ve=function(e,t){return Ee.a.get("http://www.omdbapi.com/?apikey=c96ccb5f&type=movie&s=".concat(e,"&page=").concat(t))},Ie=function(e){return e.reduce((function(e,t){return e[t.imdbID]=t,e}),{})},Me=function(e,t){void 0!==typeof window&&localStorage.setItem("".concat(e),JSON.stringify(t))},Te=le.a.mark(Ne),Le=le.a.mark(Ae),fe=le.a.mark(ye),pe=le.a.mark(Ce),Se=le.a.mark(De),he=le.a.mark(Re),xe=le.a.mark(ge);function Ne(e){var t,n,a,r,o;return le.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,n=t.query,a=t.page,i.prev=1,i.next=4,Object(me.b)(ve,n,a);case 4:if(!(r=i.sent).data.Error){i.next=10;break}return i.next=8,Object(me.d)(N(r.data.Error));case 8:i.next=15;break;case 10:return i.next=12,Object(me.b)(Ie,r.data.Search);case 12:return o=i.sent,i.next=15,Object(me.d)({type:x.FETCH_MOVIE_LIST_SUCCESS,payload:o});case 15:i.next=21;break;case 17:return i.prev=17,i.t0=i.catch(1),i.next=21,Object(me.d)(N(i.t0));case 21:case"end":return i.stop()}}),Te,null,[[1,17]])}function Ae(e){var t,n,a;return le.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload.movie,r.prev=1,r.next=4,Object(me.b)(ie,"movieNominatedList");case 4:return n=r.sent,r.next=7,Object(j.a)(Object(j.a)({},n),{},Object(be.a)({},t.imdbID,t));case 7:return a=r.sent,r.next=10,Object(me.b)(Me,"movieNominatedList",a);case 10:return r.next=12,Object(me.d)({type:x.ADD_TO_NOMINATED_MOVIE_LIST_SUCCESS,payload:a});case 12:r.next=18;break;case 14:return r.prev=14,r.t0=r.catch(1),r.next=18,Object(me.d)((o=r.t0,{type:x.ADD_TO_NOMINATED_MOVIE_LIST_FAILURE,payload:o}));case 18:case"end":return r.stop()}var o}),Le,null,[[1,14]])}function ye(e){var t,n,a;return le.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload.movieId,r.prev=1,r.next=4,Object(me.b)(ie,"movieNominatedList");case 4:return n=r.sent,r.next=7,delete n[t];case 7:return a=Object(j.a)({},n),r.next=10,Object(me.b)(Me,"movieNominatedList",a);case 10:return r.next=12,Object(me.d)({type:x.REMOVE_FROM_NOMINATED_MOVIE_LIST_SUCCESS,payload:a});case 12:r.next=18;break;case 14:return r.prev=14,r.t0=r.catch(1),r.next=18,Object(me.d)((o=r.t0,{type:x.REMOVE_FROM_NOMINATED_MOVIE_LIST_FAILURE,payload:o}));case 18:case"end":return r.stop()}var o}),fe,null,[[1,14]])}function Ce(){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.e)(x.FETCH_MOVIE_LIST_START,Ne);case 2:case"end":return e.stop()}}),pe)}function De(){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.e)(x.ADD_TO_NOMINATED_MOVIE_LIST_START,Ae);case 2:case"end":return e.stop()}}),Se)}function Re(){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.e)(x.REMOVE_FROM_NOMINATED_MOVIE_LIST_START,ye);case 2:case"end":return e.stop()}}),he)}function ge(){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.a)([Object(me.b)(Ce),Object(me.b)(De),Object(me.b)(Re)]);case 2:case"end":return e.stop()}}),xe)}var Ve=le.a.mark(Fe);function Fe(){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.a)([Object(me.c)(ge)]);case 2:case"end":return e.stop()}}),Ve)}var we=Object(oe.a)(),He=[we],ke=Object(re.d)(ue,Object(re.c)(re.a.apply(void 0,He)));we.run(Fe);var Ue=ke;i.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(s.a,{store:Ue,children:Object(m.jsx)(c.a,{children:Object(m.jsx)(ae,{})})})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.1c930eed.chunk.js.map